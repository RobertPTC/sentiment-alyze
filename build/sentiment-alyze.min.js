/*
sentiment-alyze 1.4.7- Textual analysis tools for JavaScript.ngit://github.com/RobertPTC/sentiment-alyze.gitnBuilt on 2018-03-03n*/
module.exports=function(){function a(a){var b=/['!"#$%&\\'()\*+,\-\.\/:;<=>?@\[\\\]\^_`{|}~']/g;return a.replace(b,"")}function b(a){return a.toLowerCase()}function c(a){return a.split(" ")}function d(d){return c(b(a(d)))}function e(a){var b=[];for(var c in a){var d={},e=a[c];switch(arguments[1]){case"score":d[e]=f(e);break;case"negScore":d[e]=g(e)}b.push(d)}return b}function f(a){if("object"==typeof a)return e(a,"score");var b=d(a),c=0;for(var f in b)b[f]in m&&(c+=m[b[f]]);return c}function g(a){if("object"==typeof a)return e(a,"negScore");var b=d(a),c=0,f=!1;for(var g in b)-1!==o.indexOf(b[g])&&(f=!0),b[g]in m&&(c+=f?-1*m[b[g]]:m[b[g]],f=!1);return c}function h(a,b){b.PHRASE_LENGTH=0;for(var c in a)b[a[c]]?(b.PHRASE_LENGTH++,b[a[c]].count++):-1===n.indexOf(a[c])&&(b.PHRASE_LENGTH++,b[a[c]]={},b[a[c]].count=1);for(var d in b)b[d].tf=b[d].count/b.PHRASE_LENGTH;return b}function i(a,b){b.PHRASE_LENGTH=0;for(var c in a)b.PHRASE_LENGTH++,b[a[c]]?b[a[c]].count++:(b[a[c]]={},b[a[c]].count=1);for(var d in b)b[d].tf=b[d].count/b.PHRASE_LENGTH;return b}function j(a){var b={};for(var c in a){var d=p(c);b[d]?b[d].count++:(b[d]={},b[d].tf=c.tf,b[d].count=1)}return b}function k(a,b){return Math.log(b)/Math.log(a)}var l,m=require("./afinn_sync.js"),n=require("./stop_words.js"),o=["not","no","nor","never"],p=require("./lib/porter.js");return l={sentimentalyze:function(a,b){return b&&"yes"===b.negate?g(a):f(a)},tfIDF:function(a,b){for(var c={},d={},e=a.length,f=0;f<e;f++){var g=this.termFrequency(a[f],b);c[f]={};for(var h in g)d[h]?d[h].count++:(d[h]={},d[h].tfIDF=0,d[h].count=1),c[f][h]=g[h]}for(var i in c)for(var j in c[i]){var l=d[j].count,m=c[i][j];if("object"==typeof m){var n=k(10,e/l);m.tfIDF=m.tf*n,d[j].tfIDF+=m.tfIDF}}return console.log("documentCount ",d),d},termFrequency:function(a,b){var c=d(a),e=(c.length,{});return b?"no"===b.stopWords?"yes"===b.stem?(e=h(c,e),e=j(e)):e=h(c,e):"yes"===b.stem?(e=i(c,e),e=j(e)):e=i(c,e):e=i(c,e)}},l._parsePunc=a,l._lowercase=b,l._wordArray=c,l._parsePhrase=d,l._createScore=f,l._createScoreNegatives=g,l._getBaseLog=k,l}();