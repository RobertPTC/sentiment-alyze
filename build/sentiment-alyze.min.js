/*
sentiment-alyze 0.1.2- Textual analysis tools for JavaScript.ngit://github.com/RobertPTC/sentiment-alyze.gitnBuilt on 2015-05-21n*/
var dict=require("./afinn_sync.js"),stopWords=require("./stop_words.js"),negatives=["not","no","nor"];module.exports={parsePunc:function(a){var b=/['!"#$%&\\'()\*+,\-\.\/:;<=>?@\[\\\]\^_`{|}~']/g;return a.replace(b,"")},lowercase:function(a){return a.toLowerCase()},wordArray:function(a){return a.split(" ")},parsePhrase:function(a){var b=this.parsePunc(a),c=this.lowercase(b),d=this.wordArray(c);return d},sentimentalyze:function(a,b){return b&&"yes"===b.negate?this.createScoreNegatives(a):this.createScore(a)},createScore:function(a){var b=this.parsePhrase(a),c=0;for(var d in b)b[d]in dict&&(c+=dict[b[d]]);return c},createScoreNegatives:function(a){var b=this.parsePhrase(a),c=0,d=!1;for(var e in b)-1!==negatives.indexOf(b[e])&&(d=!0),b[e]in dict&&(c+=d?-1*dict[b[e]]:dict[b[e]],d=!1);return c},termFrequency:function(a,b){var c=this.parsePhrase(a),d={};for(var e in c)d[c[e]]?d[c[e]]++:b&&"no"===b.stopWords?-1===stopWords.indexOf(c[e])&&(d[c[e]]=1):d[c[e]]=1;return d}};